resolved_ts: fix coroutine leaking (#10976)

* add timeout for advancing ts

Signed-off-by: 5kbpers <tangminghua@pingcap.com>

* fix condition

Signed-off-by: 5kbpers <tangminghua@pingcap.com>

* address comment

Signed-off-by: 5kbpers <tangminghua@pingcap.com>

* add test

Signed-off-by: 5kbpers <tangminghua@pingcap.com>

* make clippy happy

Signed-off-by: 5kbpers <tangminghua@pingcap.com>

Co-authored-by: Ti Chi Robot <ti-community-prow-bot@tidb.io>