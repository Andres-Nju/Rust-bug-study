refactor(es/compat): Preserve length of functions in `async_generator` (#3202)

