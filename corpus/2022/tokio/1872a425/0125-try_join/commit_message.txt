macros: avoid starvation in `join!` and `try_join!` (#4624)

Fixes: #4612