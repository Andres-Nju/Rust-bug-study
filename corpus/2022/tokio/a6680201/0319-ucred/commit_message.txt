net: remove libc type leakage in a public API (#5191)

