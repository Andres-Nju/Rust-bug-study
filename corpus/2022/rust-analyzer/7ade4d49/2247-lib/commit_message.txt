Auto merge of #12517 - xuhongxu96:master, r=Veykril

fix methods in pub trait generated by macro cannot be completed

Fix #12483

Check if the container is trait and inherit the visibility to associate items during collection.
