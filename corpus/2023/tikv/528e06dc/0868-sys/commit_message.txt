util: Fix incorrect memory capacity (#14034)

* util: Fix incorrect memory capacity

Signed-off-by: Wish <breezewish@outlook.com>

* Fix lints

Signed-off-by: Wish <breezewish@outlook.com>

* Check capacity with /proc/meminfo

Signed-off-by: Wish <breezewish@outlook.com>

Signed-off-by: Wish <breezewish@outlook.com>